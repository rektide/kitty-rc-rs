{"id":"kitty-rc-proto-rs-0ja","title":"Rename project from kitty-rc-proto-rs to kitty_rc","description":"Rename the Rust project from kitty-rc-proto-rs to kitty_rc for better naming and shorter crate name","design":"Need to rename:\n1. Crate name in Cargo.toml\n2. Module exports in lib.rs\n3. Update any imports in binaries\n4. Update documentation references\n\nThis is a straightforward rename operation.","acceptance_criteria":"- Crate renamed to kitty_rc in Cargo.toml\n- All imports updated to use kitty_rc\n- Binaries use new crate name\n- All tests pass after rename\n- Commit created with descriptive message","status":"closed","priority":1,"issue_type":"chore","created_at":"2026-01-07T03:36:55.793047168-05:00","created_by":"rektide","updated_at":"2026-01-07T03:42:12.126617988-05:00","closed_at":"2026-01-07T03:42:12.126617988-05:00","close_reason":"Completed"}
{"id":"kitty-rc-proto-rs-16r","title":"Command Modules: Tab and Layout management APIs","description":"Implement tab and layout management command APIs including focus-tab, set-tab-title, close-tab, goto-layout, set-enabled-layouts commands","design":"Tab management:\n- focus-tab: Focus specific tab by match criteria\n- set-tab-title: Change tab title\n- close-tab: Close tabs with match/self/ignore_no_match options\n\nLayout management:\n- goto-layout: Switch layout in specific tab\n- set-enabled-layouts: Configure available layouts\n- last-used-layout: Revert to previous layout\n\nAll commands should support optional match criteria.","acceptance_criteria":"- All tab management commands implemented\n- All layout management commands implemented\n- Builder pattern for command options\n- Match criteria support\n- Integration with protocol and transport layers\n- Unit tests for each command type","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-07T02:35:37.874543284-05:00","created_by":"rektide","updated_at":"2026-01-07T03:06:58.492582112-05:00","closed_at":"2026-01-07T03:06:58.492582112-05:00","close_reason":"Completed"}
{"id":"kitty-rc-proto-rs-2wl","title":"Add remaining tab management commands","description":"Add detach-tab command to tab.rs module for detaching tabs to different OS windows","design":"Add DetachTabCommand with fields:\n- match (default: None): Which tab to detach\n- target_tab (default: None): Which tab to move the detached tab to the OS window it is run in\n- self (default: False): Whether to detach the tab of the window the command is run in\n\nIntegrate with existing tab.rs module structure.","acceptance_criteria":"- DetachTabCommand implemented\n- Builder pattern with match, target_tab, self options\n- Integration with KittyMessage\n- Unit tests for all options\n- 53 total tests passing","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-07T03:35:18.598637377-05:00","created_by":"rektide","updated_at":"2026-01-07T04:13:41.053099427-05:00","closed_at":"2026-01-07T04:13:41.053099427-05:00","close_reason":"Completed"}
{"id":"kitty-rc-proto-rs-5i0","title":"Implement style and appearance commands","description":"Create style.rs module with set-background-opacity, set-background-image, set-colors, set-font-size, set-spacing, set-tab-color, get-colors commands","design":"Create new style.rs module with commands:\n- set-background-opacity: Set opacity with required opacity parameter (0-1) and match_window/match_tab/all/toggle options\n- set-background-image: Set background image with required data (chunked base64 PNG) and match/layout/all/configured options\n- set-colors: Set colors with required colors mapping and match_window/match_tab/all/configured/reset options\n- set-font-size: Set font size with required size parameter and all/increment_op options\n- set-spacing: Set spacing with required settings object and match_window/match_tab/all/configured options\n- set-tab-color: Set tab color with required colors mapping and match/self options\n- get-colors: Get colors with match option and configured boolean\n\nset-background-image and set-window-logo use streaming for large data.","acceptance_criteria":"- style.rs module created\n- All 6 commands implemented\n- Builder patterns for each command\n- Streaming support for set-background-image\n- Integration with KittyMessage\n- Comprehensive unit tests\n- Updated mod.rs to export style commands\n- set-tab-color in both style.rs and referenced from tab commands","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-07T03:35:18.602432137-05:00","created_by":"rektide","updated_at":"2026-01-07T04:13:41.054425635-05:00","closed_at":"2026-01-07T04:13:41.054425635-05:00","close_reason":"Completed"}
{"id":"kitty-rc-proto-rs-6yn","title":"Create action builders for kitty actions","description":"Create builder pattern for kitty actions mapped in kitty.conf\n\nActions are mappable keyboard/mouse actions in kitty. Need to create action builders following the same pattern as command builders.\n\nCategories to implement:\n- src/actions/session.rs - Session actions (quit, etc.)\n- src/actions/tab.rs - Tab management (new_tab, goto_tab, etc.)\n- src/actions/window.rs - Window management (new_window, focus_window, etc.)\n- src/actions/clipboard.rs - Copy/paste actions\n- src/actions/debug.rs - Debug actions\n- src/actions/layout.rs - Layout actions (goto_layout, toggle_layout, etc.)\n- src/actions/mark.rs - Mark actions (create_marker, scroll_to_mark, etc.)\n- src/actions/misc.rs - Miscellaneous actions (send_key, send_text, kitten, launch, etc.)\n- src/actions/mouse.rs - Mouse actions\n- src/actions/scroll.rs - Scrolling actions (scroll_line_up, scroll_page_down, etc.)\n\nActions reference: https://sw.kovidgoyal.net/kitty/actions/\n\nEach action should:\n- Have builder pattern with fluent API\n- Accept relevant parameters\n- Build to a String that can be used in kitty.conf map directives\n- Have unit tests\n- Update src/actions/mod.rs to export all actions","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T04:39:56.521915053-05:00","created_by":"rektide","updated_at":"2026-01-07T04:39:56.521915053-05:00"}
{"id":"kitty-rc-proto-rs-83l","title":"Implement process management commands","description":"Create process.rs module with run, kitten, launch, env, set-user-vars, load-config, resize-os-window, disable-ligatures, signal-child commands","design":"Create new process.rs module with commands:\n- run: Run command with data/cmdline/env/allow_remote_control/remote_control_password\n- kitten: Run kitten with args/match options\n- launch: Launch with args/window_title/cwd/env/var/tab_title/type/keep_focus/copy_colors/copy_cmdline/copy_env/hold/location/allow_remote_control/remote_control_password/stdin_source/stdin_add_formatting/stdin_add_line_wrap_markers/spacing/marker/logo/logo_position/logo_alpha/self/os_window_title/os_window_name/os_window_class/os_window_state/color/watcher/bias options\n- env: Set environment variables with env dictionary\n- set-user-vars: Set user variables with var list and match\n- load-config: Load config with paths/override/ignore_overrides\n- resize-os-window: Resize OS window with match/self/incremental/action/unit/width/height\n- disable-ligatures: Disable ligatures with strategy/match_window/match_tab/all options\n- signal-child: Send signals with signals required parameter and match option\n\nLaunch is very complex with many options. Run supports streaming.","acceptance_criteria":"- process.rs module created\n- All 8 commands implemented\n- Builder patterns for each command\n- Launch command with all complex options\n- Streaming support for run command\n- Integration with KittyMessage\n- Comprehensive unit tests\n- Updated mod.rs to export process commands","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-07T03:35:18.600151683-05:00","created_by":"rektide","updated_at":"2026-01-07T04:13:41.051511933-05:00","closed_at":"2026-01-07T04:13:41.051511933-05:00","close_reason":"Completed"}
{"id":"kitty-rc-proto-rs-9b8","title":"Async and Streaming support for kitty protocol","description":"Implement async request handling and streaming chunk support for commands that require asynchronous communication or large data payloads","design":"Async requests:\n- Generate random unique IDs for async commands\n- Handle async responses that arrive after delay\n- Cancel async requests via cancel_async field\n\nStreaming:\n- Split large requests into chunks (max 4096 bytes)\n- Include stream=true and stream_id in each chunk\n- Send empty chunk to indicate end of data\n- Support for stdin streaming and image uploads\n\nCommands needing async: select-window, kitten Commands needing streaming: run, set-background-image, set-window-logo","acceptance_criteria":"- Async command handling with unique IDs\n- Async request cancellation support\n- Streaming chunk implementation\n- Proper stream_id management across chunks\n- End-of-data handling\n- Integration with existing command types\n- Unit tests for async and streaming scenarios","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-07T02:35:37.877886321-05:00","created_by":"rektide","updated_at":"2026-01-07T04:13:41.055449077-05:00","closed_at":"2026-01-07T04:13:41.055449077-05:00","close_reason":"Completed"}
{"id":"kitty-rc-proto-rs-9vr","title":"Comprehensive Error Handling for kitty-rc-proto","description":"Implement robust error handling for protocol errors, connection errors, and command execution errors throughout the library","design":"Error types:\n- ProtocolError: Malformed messages, invalid JSON, envelope parsing failures\n- ConnectionError: Socket connection issues, timeouts, disconnects\n- CommandError: Invalid command fields, execution failures, kitty error responses\n- EncryptionError: Encryption/decryption failures (future)\n\nUse thiserror for derive macros and helpful error messages. Include context and source errors where appropriate.","acceptance_criteria":"- Custom error types defined\n- thiserror derive implementations\n- Helpful error messages with context\n- Error conversion chain preserved\n- Documentation of error conditions\n- Unit tests for error paths\n- Integration tests verify error handling","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-07T02:35:37.876334586-05:00","created_by":"rektide","updated_at":"2026-01-07T02:57:38.857691884-05:00","closed_at":"2026-01-07T02:57:38.857691884-05:00","close_reason":"Completed"}
{"id":"kitty-rc-proto-rs-aav","title":"Transport Layer: Unix domain socket communication","description":"Implement async Unix domain socket transport layer for communicating with kitty terminal emulator through the socket file at $(pwd)/kitty.socket","design":"Use tokio for async I/O:\n- UnixStream connection to kitty.socket\n- Async read/write operations\n- Connection pooling and reuse\n- Timeout handling\n- Graceful connection shutdown\n\nThe transport layer should be generic and not depend on specific command types.","acceptance_criteria":"- Connects to Unix domain socket at specified path\n- Sends protocol messages asynchronously\n- Receives responses asynchronously\n- Implements connection pooling for multiple commands\n- Handles connection errors gracefully\n- Unit tests with mock socket","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-07T02:35:37.873065422-05:00","created_by":"rektide","updated_at":"2026-01-07T02:49:09.802756273-05:00","closed_at":"2026-01-07T02:49:09.802756273-05:00","close_reason":"Completed"}
{"id":"kitty-rc-proto-rs-c9w","title":"Protocol Layer: Message framing and JSON handling","description":"Implement the core protocol layer for kitty remote control protocol. Handle message framing with escape sequences (0x1bP@kitty-cmd\u003cJSON\u003e0x1b\\) and construct/parse JSON payloads.","design":"The protocol requires wrapping JSON commands in escape sequences:\n- Prefix: 0x1bP@kitty-cmd\n- JSON object with cmd, version, optional fields (no_response, kitty_window_id, payload)\n- Suffix: 0x1b\\\n\nResponse format needs parsing to extract JSON from the envelope.\n\nDesign a CommandBuilder struct with fluent API for constructing commands.","acceptance_criteria":"- CommandBuilder can construct valid protocol messages\n- Messages properly framed with escape sequences\n- Response parser extracts JSON from kitty responses\n- Handles all standard command fields (cmd, version, no_response, kitty_window_id, payload)\n- Unit tests for framing and parsing","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-07T02:35:37.877816829-05:00","created_by":"rektide","updated_at":"2026-01-07T02:43:49.055572758-05:00","closed_at":"2026-01-07T02:43:49.055572758-05:00","close_reason":"Completed"}
{"id":"kitty-rc-proto-rs-cli","title":"Add remaining window management commands","description":"Add focus-window, select-window, new-window, detach-window, set-window-title, set-window-logo, get-text, scroll-window, create-marker, remove-marker commands to window.rs","design":"Add commands to window.rs:\n- focus-window: Focus specific window with match spec\n- select-window: Async window selection with title/exclude_active/reactivate_prev_tab\n- new-window: Create window with args/title/cwd/keep_focus/window_type/new_tab/tab_title\n- detach-window: Detach window with match/target_tab/self/stay_in_tab options\n- set-window-title: Set title with match/temporary options\n- set-window-logo: Set logo with data/position/alpha/match/self options\n- get-text: Extract text with match/extent/ansi/cursor/wrap_markers/clear_selection/self\n- scroll-window: Scroll with amount required parameter\n- create-marker: Create marker with match/self/marker_spec options\n- remove-marker: Remove marker with match/self options\n\nSelect-window needs async support with unique ID generation.","acceptance_criteria":"- All 10 window commands implemented\n- Builder pattern for each command\n- Async support for select-window\n- Integration with KittyMessage\n- Comprehensive unit tests\n- Total tests passing increased significantly","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-07T03:35:18.600159433-05:00","created_by":"rektide","updated_at":"2026-01-07T04:13:41.05139145-05:00","closed_at":"2026-01-07T04:13:41.05139145-05:00","close_reason":"Completed"}
{"id":"kitty-rc-proto-rs-ioh","title":"Update kitty protocol version to 0.43.1","description":"Current kitty version is 0.43.1, but the code is using protocol version 0.14.2. Need to update the version in src/command.rs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T04:48:56.167484358-05:00","updated_at":"2026-01-07T04:49:16.482239604-05:00","closed_at":"2026-01-07T04:49:16.482239604-05:00","close_reason":"Completed"}
{"id":"kitty-rc-proto-rs-lrl","title":"Command Modules: Window management APIs","description":"Implement window management command APIs including ls, send-text, send-key, close-window, resize-window commands","design":"Group related commands into modules:\n- ls: List windows with optional match/self filters\n- send-text: Send text data to windows (plain text or base64)\n- send-key: Send key sequences to windows\n- close-window: Close windows with match/self/ignore_no_match options\n- resize-window: Resize windows incrementally or reset\n\nEach command should have a builder pattern for options and validation.","acceptance_criteria":"- All window management commands implemented\n- Builder pattern for command options\n- Validation of required fields\n- Integration with protocol and transport layers\n- Unit tests for each command type\n- Documentation examples for common use cases","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-07T02:35:37.874073761-05:00","created_by":"rektide","updated_at":"2026-01-07T03:13:29.039355693-05:00","closed_at":"2026-01-07T03:13:29.039355693-05:00","close_reason":"Completed"}
{"id":"kitty-rc-proto-rs-vid","title":"Implement Action command (complex command)","description":"Implement the action command which executes arbitrary kitty actions with arguments. This is a complex command that requires careful parsing and validation.","design":"The action command has the following fields:\n- action (required): The action to perform, of the form: action [optional argsâ€¦]\n- match_window (optional): Window to run the action on\n- self (default: False): Whether to use the window this command is run in as the active window\n\nThis command is complex because:\n1. Actions can have variable arguments\n2. Action syntax needs validation\n3. Need to support various kitty actions\n\nShould create a helper module for action parsing and validation.","acceptance_criteria":"- ActionCommand builder with fluent API\n- Action string parsing and validation\n- Match window support\n- Self flag support\n- Comprehensive unit tests for various action formats\n- Documentation of supported actions","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-07T03:35:18.597556301-05:00","created_by":"rektide","updated_at":"2026-01-07T03:35:18.597556301-05:00"}
