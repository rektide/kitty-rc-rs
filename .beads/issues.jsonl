{"id":"kitty-rc-proto-rs-16r","title":"Command Modules: Tab and Layout management APIs","description":"Implement tab and layout management command APIs including focus-tab, set-tab-title, close-tab, goto-layout, set-enabled-layouts commands","design":"Tab management:\n- focus-tab: Focus specific tab by match criteria\n- set-tab-title: Change tab title\n- close-tab: Close tabs with match/self/ignore_no_match options\n\nLayout management:\n- goto-layout: Switch layout in specific tab\n- set-enabled-layouts: Configure available layouts\n- last-used-layout: Revert to previous layout\n\nAll commands should support optional match criteria.","acceptance_criteria":"- All tab management commands implemented\n- All layout management commands implemented\n- Builder pattern for command options\n- Match criteria support\n- Integration with protocol and transport layers\n- Unit tests for each command type","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-07T02:35:37.874543284-05:00","created_by":"rektide","updated_at":"2026-01-07T03:06:58.492582112-05:00","closed_at":"2026-01-07T03:06:58.492582112-05:00","close_reason":"Completed"}
{"id":"kitty-rc-proto-rs-9b8","title":"Async and Streaming support for kitty protocol","description":"Implement async request handling and streaming chunk support for commands that require asynchronous communication or large data payloads","design":"Async requests:\n- Generate random unique IDs for async commands\n- Handle async responses that arrive after delay\n- Cancel async requests via cancel_async field\n\nStreaming:\n- Split large requests into chunks (max 4096 bytes)\n- Include stream=true and stream_id in each chunk\n- Send empty chunk to indicate end of data\n- Support for stdin streaming and image uploads\n\nCommands needing async: select-window, kitten Commands needing streaming: run, set-background-image, set-window-logo","acceptance_criteria":"- Async command handling with unique IDs\n- Async request cancellation support\n- Streaming chunk implementation\n- Proper stream_id management across chunks\n- End-of-data handling\n- Integration with existing command types\n- Unit tests for async and streaming scenarios","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-07T02:35:37.877886321-05:00","created_by":"rektide","updated_at":"2026-01-07T02:35:37.877886321-05:00"}
{"id":"kitty-rc-proto-rs-9vr","title":"Comprehensive Error Handling for kitty-rc-proto","description":"Implement robust error handling for protocol errors, connection errors, and command execution errors throughout the library","design":"Error types:\n- ProtocolError: Malformed messages, invalid JSON, envelope parsing failures\n- ConnectionError: Socket connection issues, timeouts, disconnects\n- CommandError: Invalid command fields, execution failures, kitty error responses\n- EncryptionError: Encryption/decryption failures (future)\n\nUse thiserror for derive macros and helpful error messages. Include context and source errors where appropriate.","acceptance_criteria":"- Custom error types defined\n- thiserror derive implementations\n- Helpful error messages with context\n- Error conversion chain preserved\n- Documentation of error conditions\n- Unit tests for error paths\n- Integration tests verify error handling","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-07T02:35:37.876334586-05:00","created_by":"rektide","updated_at":"2026-01-07T02:57:38.857691884-05:00","closed_at":"2026-01-07T02:57:38.857691884-05:00","close_reason":"Completed"}
{"id":"kitty-rc-proto-rs-aav","title":"Transport Layer: Unix domain socket communication","description":"Implement async Unix domain socket transport layer for communicating with kitty terminal emulator through the socket file at $(pwd)/kitty.socket","design":"Use tokio for async I/O:\n- UnixStream connection to kitty.socket\n- Async read/write operations\n- Connection pooling and reuse\n- Timeout handling\n- Graceful connection shutdown\n\nThe transport layer should be generic and not depend on specific command types.","acceptance_criteria":"- Connects to Unix domain socket at specified path\n- Sends protocol messages asynchronously\n- Receives responses asynchronously\n- Implements connection pooling for multiple commands\n- Handles connection errors gracefully\n- Unit tests with mock socket","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-07T02:35:37.873065422-05:00","created_by":"rektide","updated_at":"2026-01-07T02:49:09.802756273-05:00","closed_at":"2026-01-07T02:49:09.802756273-05:00","close_reason":"Completed"}
{"id":"kitty-rc-proto-rs-c9w","title":"Protocol Layer: Message framing and JSON handling","description":"Implement the core protocol layer for kitty remote control protocol. Handle message framing with escape sequences (0x1bP@kitty-cmd\u003cJSON\u003e0x1b\\) and construct/parse JSON payloads.","design":"The protocol requires wrapping JSON commands in escape sequences:\n- Prefix: 0x1bP@kitty-cmd\n- JSON object with cmd, version, optional fields (no_response, kitty_window_id, payload)\n- Suffix: 0x1b\\\n\nResponse format needs parsing to extract JSON from the envelope.\n\nDesign a CommandBuilder struct with fluent API for constructing commands.","acceptance_criteria":"- CommandBuilder can construct valid protocol messages\n- Messages properly framed with escape sequences\n- Response parser extracts JSON from kitty responses\n- Handles all standard command fields (cmd, version, no_response, kitty_window_id, payload)\n- Unit tests for framing and parsing","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-07T02:35:37.877816829-05:00","created_by":"rektide","updated_at":"2026-01-07T02:43:49.055572758-05:00","closed_at":"2026-01-07T02:43:49.055572758-05:00","close_reason":"Completed"}
{"id":"kitty-rc-proto-rs-lrl","title":"Command Modules: Window management APIs","description":"Implement window management command APIs including ls, send-text, send-key, close-window, resize-window commands","design":"Group related commands into modules:\n- ls: List windows with optional match/self filters\n- send-text: Send text data to windows (plain text or base64)\n- send-key: Send key sequences to windows\n- close-window: Close windows with match/self/ignore_no_match options\n- resize-window: Resize windows incrementally or reset\n\nEach command should have a builder pattern for options and validation.","acceptance_criteria":"- All window management commands implemented\n- Builder pattern for command options\n- Validation of required fields\n- Integration with protocol and transport layers\n- Unit tests for each command type\n- Documentation examples for common use cases","status":"in_progress","priority":2,"issue_type":"feature","created_at":"2026-01-07T02:35:37.874073761-05:00","created_by":"rektide","updated_at":"2026-01-07T03:09:34.624187397-05:00"}
